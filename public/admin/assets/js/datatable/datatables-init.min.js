var InitiateSimpleDataTable=function(){return{init:function(){var a=$("#simpledatatable").dataTable({sDom:"Tflt<'row DTTTFooter'<'col-sm-6'i><'col-sm-6'p>>",iDisplayLength:5,oTableTools:{aButtons:["copy","csv","xls","pdf","print"],sSwfPath:"assets/js/datatable/assets/swf/copy_csv_xls_pdf.swf"},language:{search:"",sLengthMenu:"_MENU_",oPaginate:{sPrevious:"Prev",sNext:"Next"}},aoColumns:[{bSortable:false},null,{bSortable:false},null,{bSortable:false}],aaSorting:[]});jQuery("#simpledatatable .group-checkable").change(function(){var c=$(".checkboxes");var b=jQuery(this).is(":checked");jQuery(c).each(function(){if(b){$(this).prop("checked",true);$(this).parents("tr").addClass("active")}else{$(this).prop("checked",false);$(this).parents("tr").removeClass("active")}})});jQuery("#simpledatatable tbody tr .checkboxes").change(function(){$(this).parents("tr").toggleClass("active")})}}}();var InitiateEditableDataTable=function(){return{init:function(){var c=$("#editabledatatable").dataTable({aLengthMenu:[[5,15,20,100,-1],[5,15,20,100,"All"]],iDisplayLength:5,sPaginationType:"bootstrap",sDom:"Tflt<'row DTTTFooter'<'col-sm-6'i><'col-sm-6'p>>",oTableTools:{aButtons:["copy","print",{sExtends:"collection",sButtonText:'Save <i class="fa fa-angle-down"></i>',aButtons:["csv","xls","pdf"]}],sSwfPath:"./assets/js/datatable/assets/swf/copy_csv_xls_pdf.swf"},language:{search:"",sLengthMenu:"_MENU_",oPaginate:{sPrevious:"Prev",sNext:"Next"}},aoColumns:[null,null,null,null,{bSortable:false}]});var e=null;$("#editabledatatable_new").click(function(i){i.preventDefault();var g=c.fnAddData(["","","","",'<a href="#" class="btn btn-success btn-xs save"><i class="fa fa-edit"></i> Save</a> <a href="#" class="btn btn-warning btn-xs cancel"><i class="fa fa-times"></i> Cancel</a>']);var h=c.fnGetNodes(g[0]);b(c,h);e=h});$("#editabledatatable").on("click","a.delete",function(h){h.preventDefault();if(confirm("Are You Sure To Delete This Row?")==false){return}var g=$(this).parents("tr")[0];c.fnDeleteRow(g);alert("Row Has Been Deleted!")});$("#editabledatatable").on("click","a.cancel",function(h){h.preventDefault();if($(this).attr("data-mode")=="new"){var g=$(this).parents("tr")[0];c.fnDeleteRow(g)}else{d(c,e);e=null}});$("#editabledatatable").on("click","a.edit",function(h){h.preventDefault();var g=$(this).parents("tr")[0];if(e!==null&&e!=g){d(c,e);b(c,g);e=g}else{b(c,g);e=g}});$("#editabledatatable").on("click","a.save",function(g){g.preventDefault();if(this.innerHTML.indexOf("Save")>=0){a(c,e);e=null}});function d(j,m){var k=j.fnGetData(m);var h=$(">td",m);for(var l=0,g=h.length;l<g;l++){j.fnUpdate(k[l],m,l,false)}j.fnDraw()}function b(h,j){var i=h.fnGetData(j);var g=$(">td",j);g[0].innerHTML='<input type="text" class="form-control input-small" value="'+i[0]+'">';g[1].innerHTML='<input type="text" class="form-control input-small" value="'+i[1]+'">';g[2].innerHTML='<input type="text" class="form-control input-small" value="'+i[2]+'">';g[3].innerHTML='<input type="text" class="form-control input-small" value="'+i[3]+'">';g[4].innerHTML='<a href="#" class="btn btn-success btn-xs save"><i class="fa fa-save"></i> Save</a> <a href="#" class="btn btn-warning btn-xs cancel"><i class="fa fa-times"></i> Cancel</a>'}function a(g,i){var h=$("input",i);g.fnUpdate(h[0].value,i,0,false);g.fnUpdate(h[1].value,i,1,false);g.fnUpdate(h[2].value,i,2,false);g.fnUpdate(h[3].value,i,3,false);g.fnUpdate('<a href="#" class="btn btn-info btn-xs edit"><i class="fa fa-edit"></i> Edit</a> <a href="#" class="btn btn-danger btn-xs delete"><i class="fa fa-trash-o"></i> Delete</a>',i,4,false);g.fnDraw()}function f(g,i){var h=$("input",i);g.fnUpdate(h[0].value,i,0,false);g.fnUpdate(h[1].value,i,1,false);g.fnUpdate(h[2].value,i,2,false);g.fnUpdate(h[3].value,i,3,false);g.fnUpdate('<a href="#" class="btn btn-info btn-xs edit"><i class="fa fa-edit"></i> Edit</a> <a href="#" class="btn btn-danger btn-xs delete"><i class="fa fa-trash-o"></i> Delete</a>',i,4,false);g.fnDraw()}}}}();var InitiateExpandableDataTable=function(){return{init:function(){function a(e,h){var f=e.fnGetData(h);var g="<table>";g+='<tr><td rowspan="5" style="padding:0 10px 0 0;"><img src="assets/img/avatars/'+f[6]+'"/></td><td>Name:</td><td>'+f[1]+"</td></tr>";g+="<tr><td>Family:</td><td>"+f[2]+"</td></tr>";g+="<tr><td>Age:</td><td>"+f[3]+"</td></tr>";g+="<tr><td>Positon:</td><td>"+f[4]+"</td></tr>";g+='<tr><td>Others:</td><td><a href="">Personal WebSite</a></td></tr>';g+="</table>";return g}var c=document.createElement("th");var d=document.createElement("td");d.innerHTML='<i class="fa fa-plus-square-o row-details"></i>';$("#expandabledatatable thead tr").each(function(){this.insertBefore(c,this.childNodes[0])});$("#expandabledatatable tbody tr").each(function(){this.insertBefore(d.cloneNode(true),this.childNodes[0])});var b=$("#expandabledatatable").dataTable({sDom:"Tflt<'row DTTTFooter'<'col-sm-6'i><'col-sm-6'p>>",aoColumnDefs:[{bSortable:false,aTargets:[0]},{bVisible:false,aTargets:[6]}],aaSorting:[[1,"asc"]],aLengthMenu:[[5,15,20,-1],[5,15,20,"All"]],iDisplayLength:5,oTableTools:{aButtons:["copy","print",{sExtends:"collection",sButtonText:'Save <i class="fa fa-angle-down"></i>',aButtons:["csv","xls","pdf"]}],sSwfPath:"assets/js/datatable/assets/swf/copy_csv_xls_pdf.swf"},language:{search:"",sLengthMenu:"_MENU_",oPaginate:{sPrevious:"Prev",sNext:"Next"}}});$("#expandabledatatable").on("click"," tbody td .row-details",function(){var e=$(this).parents("tr")[0];if(b.fnIsOpen(e)){$(this).addClass("fa-plus-square-o").removeClass("fa-minus-square-o");b.fnClose(e)}else{$(this).addClass("fa-minus-square-o").removeClass("fa-plus-square-o");b.fnOpen(e,a(b,e),"details")}});$('#expandabledatatable_column_toggler input[type="checkbox"]').change(function(){var e=parseInt($(this).attr("data-column"));var f=b.fnSettings().aoColumns[e].bVisible;b.fnSetColumnVis(e,(f?false:true))});$("body").on("click",".dropdown-menu.hold-on-click",function(f){f.stopPropagation()})}}}();var InitiateSearchableDataTable=function(){return{init:function(){var a=$("#searchable").dataTable({sDom:"Tflt<'row DTTTFooter'<'col-sm-6'i><'col-sm-6'p>>",aaSorting:[[1,"asc"]],aLengthMenu:[[5,15,20,-1],[5,15,20,"All"]],iDisplayLength:10,oTableTools:{aButtons:["copy","print",{sExtends:"collection",sButtonText:'Save <i class="fa fa-angle-down"></i>',aButtons:["csv","xls","pdf"]}],sSwfPath:"assets/js/datatable/assets/swf/copy_csv_xls_pdf.swf"},language:{search:"",sLengthMenu:"_MENU_",oPaginate:{sPrevious:"Prev",sNext:"Next"}}});$("tfoot input").keyup(function(){a.fnFilter(this.value,$("tfoot input").index(this))})}}}();var InitiateJsonPDataTable=function(){return{init:function(){var c=$("#jsonpdatatable").DataTable({autoWidth:false,dom:"Tflrt<'row DTTTFooter'<'col-sm-12'p<'pull-right margin-right-10'i>>>",tableTools:{aButtons:[{sExtends:"copy",sButtonText:"复制到剪贴板"},{sExtends:"print",sButtonText:"打印预览"},{sExtends:"collection",sButtonText:'保存为 <i class="fa fa-angle-down"></i>',aButtons:["csv","xls","pdf"]}],sSwfPath:"assets/js/datatable/assets/swf/copy_csv_xls_pdf.swf"},language:{url:"assets/js/datatable/assets/i18n/Chinese.json"},processing:true,serverSide:true,ajax:{url:"http://datatables.net/examples/server_side/scripts/jsonp.php",dataType:"jsonp"},deferRender:true,columns:[{data:null,orderable:false},{data:0},{data:1},{data:2},{data:3},{data:4},{data:5},{data:null,orderable:false}],columnDefs:[{targets:0,defaultContent:' <div class="checkbox"> <label> <input class="colored-blue" name="checkList" type="checkbox"> <span class="text"></span> </label> </div>'},{targets:-1,defaultContent:' <a href="#" class="btn btn-info btn-xs edit"><i class="fa fa-edit"></i> 编辑</a> <a href="#" class="btn btn-danger btn-xs delete"><i class="fa fa-trash-o"></i> 删除</a>'}],order:[[1,"asc"]]});function d(){bootbox.dialog({message:$("#myModal").html(),title:"新增用户",className:"",buttons:{success:{label:"Send",className:"btn-blue",callback:function(){}},"Save as Draft":{className:"btn-danger",callback:function(){}}}})}$("#jsonpdatatable").on("click","a.delete",function(f){f.preventDefault();bootbox.confirm("确定删除这条信息吗?",function(e){if(e){var g=$(this).parents("tr")[0];c.rows().eq(g).remove().draw(false);alert("Row Has Been Deleted!")}else{return false}})});function b(){bootbox.dialog({message:$("#myModal").html(),title:"新增用户",className:"",buttons:{success:{label:"确定",className:"btn-blue",callback:function(){}},"取消":{className:"btn-default",callback:function(){}}}})}$("#jsonpdatatable").on("click","a.edit",function(g){g.preventDefault();var f=$(this).parents("tr")[0];b()});c.on("draw",function(){var e=$('[data-toggle="checkAll"]');var f=$("input[name='checkList']");a(e,f);$("#J_tableFootBar").css("display","block")});function a(e,f){e.prop("checked",false);e.on("change",function(){if($(this).prop("checked")===true){e.prop("checked",true);f.prop("checked",$(this).prop("checked"))}else{e.prop("checked",false);f.prop("checked",false)}});f.on("change",function(){var i=f.filter(":checked");var g=f.length;var h=i.length;e.prop("checked",g==h)})}}}}();